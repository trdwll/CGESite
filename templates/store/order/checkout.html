{% extends '_base.html' %}

{% block title %}Store - Checkout{% endblock %}

{% block start_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'plugins/bootstrap-select/css/bootstrap-select.min.css' %}">
{% endblock %}

{% block content %}
<section class="bg-primary">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="d-flex align-items-center py-3">
                    <h2 class="h3 font-weight-semibold text-white mb-0 mr-auto">Checkout</h2>
                    <a class="btn btn-outline-light" href="{% url 'cart_page' %}" role="button">Back to cart</a>
                </div>
            </div>
        </div>
    </div>
</section>
<nav class="bg-white border-bottom" aria-label="breadcrumb">
    <div class="container">
        <div class="d-flex align-items-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'home_page' %}">Home</a></li>
                <li class="breadcrumb-item"><a href="{% url 'store_home' %}">Store</a></li>
                <li class="breadcrumb-item active" aria-current="page">Checkout</li>
            </ol>
        </div>
    </div>
</nav>
<section class="py-lg-5">
    <form action="{% url 'order_create' %}" method="POST">
        <div class="container">
            <div class="row">
                <div class="col-lg-9">
                    <div class="card card-default">
                        <h6 class="card-header"><i class="ya ya-pin mr-1"></i> Your Info</h6>
                        <div class="card-body">
                            {% csrf_token %}
                            {% for field in form %}
                            {% if field.name == 'first_name' %}
                            <div class="form-group row">
                            <div class="col-md-6 mb-3 mb-md-0">
                            {{ field }}
                            </div>
                            {% elif field.name == 'last_name' %}
                            <div class="col-md-6">
                            {{ field }}
                            </div>
                            </div>
                            {% else %}
                            <div class="form-group">
                            {{ field }}
                            </div>
                            {% endif %}
                            {% endfor %}
                            </form>
                            {% comment %} <form>
                                <div class="form-group row">
                                    <div class="col-md-6 mb-3 mb-md-0">
                                        <label for="first-name">First Name</label>
                                        <input type="text" class="form-control" id="first-name" placeholder="Enter First Name">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="last-name">Last Name</label>
                                        <input type="text" class="form-control" id="last-name" placeholder="Enter Last Name">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="country">Country</label>
                                    <select class="selectpicker w-100" id="country" data-live-search="true" title="Nothing selected">
                                        <option>United Kingdom</option>
                                        <option>United States</option>
                                        <option>Spain</option>
                                        <option>Italy</option>
                                    </select>
                                    <small id="countryHelp" class="form-text text-muted">Saw yet kindness too replying whatever marianne.</small>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-4 mb-3 mb-md-0">
                                        <label for="address">Address</label>
                                        <input type="text" class="form-control" id="address" placeholder="Address">
                                    </div>
                                    <div class="col-md-4 mb-3 mb-md-0">
                                        <label for="zip">Zip</label>
                                        <input type="text" class="form-control" id="zip" placeholder="Postal Code">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="city">City</label>
                                        <input type="text" class="form-control" id="city" placeholder="City">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-6">
                                        <label for="email">Email Address</label>
                                        <input type="text" class="form-control" placeholder="Enter Email">
                                        <small class="form-text text-muted">Weâ€™ll never share your email with anyone else.</small>
                                    </div>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="shipping" checked>
                                    <label class="custom-control-label" for="shipping">Use as shipping address.</label>
                                </div>
                            </form> {% endcomment %}
                        </div>
                    </div>
                    <!-- end .card -->
                    {% comment %} <div class="card card-default">
                        <h6 class="card-header"><i class="ya ya-credit-card mr-1"></i> Credit Card</h6>
                        <div class="card-body">
                            <div class="form-group row">
                                <div class="col-6">
                                    <label for="card-name">Name on card</label>
                                    <input type="text" class="form-control" id="card-name" placeholder="Enter Name">
                                </div>
                                <div class="col-6">
                                    <label for="card-number">Card Number</label>
                                    <input type="text" class="form-control" id="card-number" placeholder="Enter Card Number">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-4">
                                    <label for="expiry-date">Bank Name</label>
                                    <input type="text" class="form-control" id="bank-name" placeholder="Enter Bank Name">
                                </div>
                                <div class="col-4">
                                    <label for="expiry-date">Expiry Date</label>
                                    <input type="text" class="form-control" id="expiry-date" placeholder="MM/YY">
                                </div>
                                <div class="col-4">
                                    <label for="cvv">CVC/CVV</label>
                                    <input type="text" class="form-control" id="cvv" placeholder="123">
                                </div>
                            </div>
                            <small class="form-text text-muted">Saw yet kindness too replying whatever marianne.</small>
                        </div>
                    </div> 
                    <!-- end .card -->
                    <div class="card card-default mb-lg-0">
                        <h6 class="card-header"><i class="ya ya-paypal mr-1"></i> Paypal</h6>
                        <div class="card-body">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="paypal" chec\ked>
                                <label class="custom-control-label" for="paypal">Pay with paypal</label>
                            </div>
                            <small class="form-text text-muted mt-3">Saw yet kindness too replying whatever marianne.</small>
                        </div>
                    </div>{% endcomment %}
                    <!-- end .card -->
                </div>
                <div class="col-lg-3">
                    <div class="card card-default mb-3">
                        <h6 class="card-header">Order Summary</h6>
                        <div class="card-body px-2">
                            <table class="table table-striped mt-4 mb-0">
                                <tbody>
                                    <tr>
                                        <th scope="row">Cart Subtotal</th>
                                        <td class="text-right">${{ cart.get_total_price }}</td>
                                    </tr>
                                    {% if cart.coupon %}
                                    <tr>
                                        <th scope="row">Coupon (<em>{{ cart.coupon.code }} coupon {{ cart.coupon.discount }}% off</em>)</th>
                                        <td class="text-right">- ${{ cart.get_discount|floatformat:"2" }}</td>
                                    </tr>
                                    {% endif %}
                                    <tr>
                                        <th scope="row">Order Total</th>
                                        <td class="text-right">
                                            <strong class="text-danger">${{ cart.get_total_price_after_discount|floatformat:"2" }}</strong>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- end .card -->
                    <div class="text-right">
                        <button type="submit" class="btn btn-primary">Submit Order</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</section>
{% endblock %}

{% block end_js %}
{% load static %}
<script src="{% static 'plugins/bootstrap-select/js/bootstrap-select.min.js' %}"></script>
{% endblock %}